on:
 push:
 branches: [ main ]
jobs:
 cfcompile:
 runs-on: ubuntu-latest
 container:
 image: adobecoldfusion/coldfusion2021:2021.0.4
 env:
 acceptEULA: YES
 steps:
 - uses: actions/checkout@v3
 - name: Compile CFML
 run: /opt/coldfusion/cfusion/bin/cfcompile.sh -cfruntimeuser root -webroot $GITHUB_WORKSPACE -dir $GITHUB_WORKSPACE


codechecker:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Run CodeChecker	    
      uses: docker://foundeo/cfml-ci-tools:latest
      with:
        entrypoint: /opt/box/box
        args: codechecker run --verbose

