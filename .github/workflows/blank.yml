on:
 push:
 branches: [ main ]
jobs:
 cfcompile:
 runs-on: ubuntu-latest
 container:
 image: adobecoldfusion/coldfusion2021:2021.0.4
 env:
 acceptEULA: YES
 steps:
 - uses: actions/checkout@v3
 - name: Compile CFML
 run: /opt/coldfusion/cfusion/bin/cfcompile.sh -cfruntimeuser root -webroot $GITHUB_WORKSPACE -dir $GITHUB_WORKSPAC

 cflint:
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/foundeo/cfml-ci-tools/cfml-ci-tools:latest
    steps:
    - uses: actions/checkout@v3
    - name: Run CFLint	    
      run: box cflint reportLevel=ERROR
